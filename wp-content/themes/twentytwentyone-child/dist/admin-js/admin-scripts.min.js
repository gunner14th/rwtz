!function(e){e(document).ready(function(){var e;jQuery.fn.upload_rw_olx_image=function(t){var r=t.attr("id"),o=r.replace("_button","");if(e)return void e.open();e=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),e.on("select",function(){var t=e.state().get("selection").first().toJSON();jQuery("#"+o).val(t.id),jQuery("#rw_olx_image img").attr("src",t.url),jQuery("#rw_olx_image img").show(),jQuery("#"+r).attr("id","remove_rw_olx_image_button"),jQuery("#remove_rw_olx_image_button").text("Remove image")}),e.open()},jQuery("#rw_olx_image").on("click","#upload_rw_olx_image_button",function(e){e.preventDefault(),jQuery.fn.upload_rw_olx_image(jQuery(this))}),jQuery("#rw_olx_image").on("click","#remove_rw_olx_image_button",function(e){e.preventDefault(),jQuery("#upload_rw_olx_image").val(""),jQuery("#rw_olx_image img").attr("src",""),jQuery("#rw_olx_image img").hide(),jQuery(this).attr("id","upload_rw_olx_image_button"),jQuery("#upload_rw_olx_image_button").text("Set image")})})}(jQuery);